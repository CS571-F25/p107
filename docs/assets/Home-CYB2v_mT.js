import{j as e,a as y,R as u,c as f,S as j,A as k}from"./vendor-bootstrap-Dg_DQlAt.js";import{r}from"./vendor-router-DblBPfa5.js";import{L as v,i as g,s as S,r as N}from"./auth-DEfQYUln.js";import{A as C,g as w,B as E}from"./blog-Q4gOWMd_.js";import"./vendor-react-Bzgz95E1.js";import"./vendor-firebase-CynBMA2D.js";function P(){const c=r.useContext(v),[o,m]=r.useState(!1),[t,a]=r.useState(!1),[i,n]=r.useState(""),[d,s]=r.useState(!1),[h,x]=r.useState(!1);if(r.useEffect(()=>{s(g())},[c.user]),!c.isLoggedIn||d)return null;const p=async()=>{m(!0),n(""),a(!1);try{await S(),a(!0),setTimeout(()=>a(!1),6e4)}catch(l){n(l.message||"Failed to send verification email.")}finally{m(!1)}},b=async()=>{x(!0),n("");try{await N();const l=g();s(l),l||n("Email not verified yet. Please check your inbox and click the verification link.")}catch(l){n(l.message||"Failed to check verification status.")}finally{x(!1)}};return e.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1.5px solid #ffc107",borderRadius:4,padding:12,marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx("span",{style:{fontSize:24},children:"⚠️"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{margin:"0 0 8px 0",color:"#666",fontSize:18},children:"Email Not Verified"}),e.jsx("p",{style:{margin:"0 0 12px 0",color:"#666"},children:"Please verify your email address to access all features. Check your inbox for the verification link."}),t&&e.jsx("div",{style:{color:"green",marginBottom:12,padding:8,backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:4,fontSize:14},children:"✓ Verification email sent! Check your inbox (and spam folder)."}),i&&e.jsx("div",{style:{color:"crimson",marginBottom:12,padding:8,backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:4,fontSize:14},children:i}),e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("p",{style:{margin:"0 0 0 0",fontSize:13,color:"#666",fontStyle:"italic"},children:"💡 Tip: Check your spam folder if you don't see the email."}),e.jsx("button",{onClick:p,disabled:o||t,style:{padding:"8px 16px",fontSize:14,backgroundColor:t?"#28a745":o?"#ccc":"#007bff",color:"white",border:"none",borderRadius:4,cursor:o||t?"not-allowed":"pointer"},children:o?"Sending...":t?"✓ Sent":"Resend Verification Email"}),e.jsx("button",{onClick:b,disabled:h,style:{padding:"8px 16px",fontSize:14,backgroundColor:h?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:4,cursor:h?"not-allowed":"pointer"},children:h?"Checking...":"I've Verified"})]})]})]})})}function H(){const[c,o]=r.useState([]),[m,t]=r.useState(!0),[a,i]=r.useState("");r.useEffect(()=>{(async()=>{try{t(!0),console.log("Fetching posts...");const s=await w(6);console.log("Posts fetched successfully:",s),o(s),i("")}catch(s){console.error("Error fetching posts:",s),console.error("Error code:",s.code),console.error("Error message:",s.message),s.code==="unavailable"||s.message.includes("network")||s.message.includes("connection")?i("Unable to connect to the blog service. Please check your internet connection and try again."):s.code==="permission-denied"?i("Access denied. Please check your permissions."):i(`Experiencing technical difficulties loading posts: ${s.message||s.code||"Unknown error"}. Please try refreshing the page.`)}finally{t(!1)}})()},[]);const n=()=>m?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(j,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2 text-muted",children:"Loading posts..."})]}):a?e.jsx(k,{variant:"danger",className:"text-center",children:a}):c.length===0?e.jsxs("div",{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"mb-3",style:{fontWeight:"600"},children:"Welcome to Orient Way"}),e.jsxs("p",{className:"text-muted mb-4",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:["This is where I document my journeys, both physical and digital.",e.jsx("br",{}),"Stories from the road, lessons from code, and everything in between."]}),e.jsxs("div",{className:"alert alert-info border-0",style:{backgroundColor:"rgba(13, 202, 240, 0.1)"},children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),e.jsx("strong",{children:"Blog is launching soon!"})," Currently setting up the platform and preparing the first posts."]}),e.jsxs("div",{className:"mt-4 p-3 rounded",style:{backgroundColor:"rgba(0,0,0,0.02)"},children:[e.jsx("h6",{className:"text-muted mb-3",children:"✨ Link Style Preview:"}),e.jsxs("div",{style:{fontSize:"0.9rem",lineHeight:"1.6"},children:[e.jsxs("p",{className:"mb-2",children:["Sample story: I ",e.jsx("a",{href:"#",className:"theme-link link-blue",children:"raised funding"})," for my startup, then ",e.jsx("a",{href:"#",className:"theme-link link-teal",children:"walked"})," across the continent,",e.jsx("a",{href:"#",className:"theme-link link-red",children:"lived in South America"})," for months, and ",e.jsx("a",{href:"#",className:"theme-link link-brown",children:"became employee #1"})," at a YC company."]}),e.jsx("small",{className:"text-muted",children:'Hover over the colored links to see the "marker highlight" effect! 🖍️'})]})]})]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"border rounded p-4 h-100 d-flex flex-column justify-content-center text-center",style:{backgroundColor:"rgba(13, 110, 253, 0.05)",borderColor:"rgba(13, 110, 253, 0.2)",minHeight:"200px"},children:[e.jsx("i",{className:"bi bi-map text-primary mb-3",style:{fontSize:"2.5rem"}}),e.jsx("h5",{className:"text-primary mb-2",children:"Travel Stories"}),e.jsx("p",{className:"text-muted small mb-0",children:"Tales from 1,700 miles of walking and months in South America"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"border rounded p-4 h-100 d-flex flex-column justify-content-center text-center",style:{backgroundColor:"rgba(255, 107, 53, 0.05)",borderColor:"rgba(255, 107, 53, 0.2)",minHeight:"200px"},children:[e.jsx("i",{className:"bi bi-code-slash mb-3",style:{fontSize:"2.5rem",color:"#ff6b35"}}),e.jsx("h5",{className:"mb-2",style:{color:"#ff6b35"},children:"Tech Insights"}),e.jsx("p",{className:"text-muted small mb-0",children:"Lessons from building at a YC startup and beyond"})]})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("small",{className:"text-muted",children:"Check back soon for the first adventure stories! 🚀"})})]}):e.jsx(u,{className:"g-4",children:c.map(d=>e.jsx(f,{md:6,lg:6,children:e.jsx(E,{post:d})},d.id))});return e.jsxs(y,{fluid:!0,style:{maxWidth:"1200px",padding:"1rem"},children:[e.jsx(P,{}),e.jsxs(u,{className:"g-4",children:[e.jsx(f,{lg:4,xl:3,children:e.jsx(C,{})}),e.jsx(f,{lg:8,xl:9,children:n()})]})]})}export{H as default};
