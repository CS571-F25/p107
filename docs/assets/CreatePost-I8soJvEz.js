import{j as e}from"./vendor-bootstrap-Dg_DQlAt.js";import{r as n,L as E}from"./vendor-router-DblBPfa5.js";import{T as D,c as R}from"./blog-Q4gOWMd_.js";import"./vendor-react-Bzgz95E1.js";import"./vendor-firebase-CynBMA2D.js";import"./auth-DEfQYUln.js";function z(){const[s,p]=n.useState({title:"",content:"",excerpt:"",category:"",tags:"",isPublished:!1}),[i,g]=n.useState(!1),[x,m]=n.useState(""),[u,y]=n.useState(""),{theme:j}=n.useContext(D),t=j==="dark",v=async d=>{d.preventDefault(),g(!0),m(""),y("");try{const a={...s,tags:s.tags.split(",").map(l=>l.trim()).filter(l=>l),author:"Eliot Zhu",readTime:Math.ceil(s.content.split(" ").length/200)},h=await R(a);m(`Post created successfully! ID: ${h}`),p({title:"",content:"",excerpt:"",category:"",tags:"",isPublished:!1})}catch(a){y(`Error creating post: ${a.message}`)}finally{g(!1)}},r=d=>{const{name:a,value:h,type:l,checked:P}=d.target;p(T=>({...T,[a]:l==="checkbox"?P:h}))},C={maxWidth:800,padding:"1rem",color:t?"#e9ecef":"#212529"},c={width:"100%",padding:6,marginTop:4,backgroundColor:t?"#495057":"#ffffff",color:t?"#e9ecef":"#212529",border:`1px solid ${t?"#6c757d":"#ced4da"}`,borderRadius:4},b={...c,resize:"vertical"},S={...c},k={marginRight:12,padding:"8px 16px",backgroundColor:t?"#0d6efd":"#007bff",color:"white",border:"none",borderRadius:4,cursor:i?"not-allowed":"pointer",opacity:i?.6:1},w={color:t?"#d1e7dd":"green",marginBottom:16,padding:8,backgroundColor:t?"#0f5132":"#d4edda",border:`1px solid ${t?"#146c43":"#c3e6cb"}`,borderRadius:4},B={color:t?"#f8d7da":"crimson",marginBottom:16,padding:8,backgroundColor:t?"#842029":"#f8d7da",border:`1px solid ${t?"#a41e22":"#f5c6cb"}`,borderRadius:4},o={color:t?"#e9ecef":"#212529",fontWeight:"500"},f={fontSize:14,color:t?"#adb5bd":"#666",marginTop:4};return e.jsxs("div",{style:C,children:[e.jsx("h1",{children:"Create New Blog Post"}),x&&e.jsx("div",{style:w,children:x}),u&&e.jsx("div",{style:B,children:u}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("label",{style:o,children:"Title"}),e.jsx("br",{}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:r,required:!0,placeholder:"Enter post title",style:c})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("label",{style:o,children:"Category"}),e.jsx("br",{}),e.jsxs("select",{name:"category",value:s.category,onChange:r,required:!0,style:S,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"travel",children:"Travel"}),e.jsx("option",{value:"tech",children:"Tech"}),e.jsx("option",{value:"cycling",children:"Cycling"}),e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"adventures",children:"Adventures"})]})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("label",{style:o,children:"Tags"}),e.jsx("br",{}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:r,placeholder:"Enter tags separated by commas (e.g., travel, taiwan, cycling)",style:c}),e.jsx("div",{style:f,children:"Separate multiple tags with commas"})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("label",{style:o,children:"Excerpt"}),e.jsx("br",{}),e.jsx("textarea",{rows:3,name:"excerpt",value:s.excerpt,onChange:r,placeholder:"Brief description of the post (optional - will be auto-generated if empty)",style:b})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("label",{style:o,children:"Content"}),e.jsx("br",{}),e.jsx("textarea",{rows:15,name:"content",value:s.content,onChange:r,required:!0,placeholder:"Write your blog post content here... (Markdown supported)",style:b})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,...o},children:[e.jsx("input",{type:"checkbox",name:"isPublished",checked:s.isPublished,onChange:r}),"Publish immediately"]}),e.jsx("div",{style:f,children:"Uncheck to save as draft"})]}),e.jsx("button",{type:"submit",disabled:i,style:k,children:i?"Creating...":"Create Post"}),e.jsx(E,{to:"/",style:{marginLeft:12,color:t?"#78c2ad":"#007bff"},children:"Back to Home"})]})]})}export{z as default};
