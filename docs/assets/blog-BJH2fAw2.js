import{j as e,C as u,B as g,a as b,S as z,A as E,b as f,R as L,c as y}from"./vendor-bootstrap-Dg_DQlAt.js";import{r as n,L as C,b as M,u as P}from"./vendor-router-DblBPfa5.js";import{f as A,q as j,w as T,h as D,l as B,j as I,k as _,m as H,n as W}from"./vendor-firebase-nbM8PX7S.js";import{d as v}from"./auth-CbeN-iZ-.js";const N=n.createContext();function G({children:o}){const[r,t]=n.useState(localStorage.getItem("theme")||"light");n.useEffect(()=>{localStorage.setItem("theme",r),document.documentElement.setAttribute("data-bs-theme",r)},[r]);const s=()=>{const a=r==="dark"?"light":"dark";t(a),localStorage.setItem("theme",a)},i=n.useMemo(()=>({theme:r,toggleTheme:s}),[r]);return e.jsx(N.Provider,{value:i,children:o})}function q(){const{theme:o}=n.useContext(N),r=[{text:"raised in the",highlight:"Philly suburbs",color:"#6c757d",link:null},{text:"learned to",highlight:"code",color:"#0d6efd",link:"https://github.com/eliotziqi"},{text:"in high school",highlight:null,color:"#6c757d",link:null},{text:"became",highlight:"employee #1",color:"#ff6b35",link:null},{text:"at a YC startup",highlight:null,color:"#6c757d",link:null},{text:"walked",highlight:"1,700 miles",color:"#198754",link:"https://www.strava.com/athletes/151920511"},{text:"lived in",highlight:"South America",color:"#dc3545",link:null},{text:"for four months",highlight:null,color:"#6c757d",link:null},{text:"now back in",highlight:"Madison",color:"#6f42c1",link:null}],t={github:"https://github.com/eliotziqi",linkedin:"https://www.linkedin.com/in/zzhu-eliot/",twitter:"https://x.com/EliotOrientWay",strava:"https://www.strava.com/athletes/151920511",email:"mailto:zhu.ziqi@foxmail.com"};return e.jsxs("div",{className:"sticky-top",style:{top:"2rem"},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"mb-1",style:{fontSize:"2rem",fontWeight:"700"},children:"Orient Way"}),e.jsx("p",{className:"text-muted mb-0",style:{fontSize:"1rem"},children:"a blog by Eliot Zhu"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("ul",{className:"list-unstyled mb-0",style:{fontSize:"0.95rem",lineHeight:"1.6"},children:r.map((s,i)=>e.jsxs("li",{className:"mb-1",children:[e.jsx("span",{className:"text-muted",children:"â€¢ "}),e.jsx("span",{className:"text-muted",children:s.text}),s.highlight&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" "}),s.link?e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none fw-semibold",style:{color:s.color,transition:"opacity 0.2s ease"},onMouseEnter:a=>a.target.style.opacity="0.7",onMouseLeave:a=>a.target.style.opacity="1",children:s.highlight}):e.jsx("span",{className:"fw-semibold",style:{color:s.color},children:s.highlight})]})]},i))})}),e.jsxs("div",{className:"d-flex gap-3 mb-4",children:[e.jsx("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"text-reset",style:{fontSize:"1.3rem",transition:"color 0.2s ease"},onMouseEnter:s=>s.target.style.color="#333",onMouseLeave:s=>s.target.style.color="inherit",title:"GitHub",children:e.jsx("i",{className:"bi bi-github"})}),e.jsx("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-reset",style:{fontSize:"1.3rem",transition:"color 0.2s ease"},onMouseEnter:s=>s.target.style.color="#0077b5",onMouseLeave:s=>s.target.style.color="inherit",title:"LinkedIn",children:e.jsx("i",{className:"bi bi-linkedin"})}),e.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-reset",style:{fontSize:"1.3rem",transition:"color 0.2s ease"},onMouseEnter:s=>s.target.style.color="#1da1f2",onMouseLeave:s=>s.target.style.color="inherit",title:"Twitter/X",children:e.jsx("i",{className:"bi bi-twitter-x"})}),e.jsx("a",{href:t.strava,target:"_blank",rel:"noopener noreferrer",className:"text-reset",style:{fontSize:"1.3rem",transition:"color 0.2s ease"},onMouseEnter:s=>s.target.style.color="#fc4c02",onMouseLeave:s=>s.target.style.color="inherit",title:"Strava",children:e.jsx("i",{className:"bi bi-strava"})}),e.jsx("a",{href:t.email,className:"text-reset",style:{fontSize:"1.3rem",transition:"color 0.2s ease"},onMouseEnter:s=>s.target.style.color="#6c757d",onMouseLeave:s=>s.target.style.color="inherit",title:"Email",children:e.jsx("i",{className:"bi bi-envelope"})})]})]})}function X({post:o}){const{id:r,title:t,subtitle:s,excerpt:i,coverImage:a,category:x,tags:d=[],publishedAt:p,readTime:c,author:h}=o,S=l=>{if(!l)return"";const m=new Date;return l.getFullYear()===m.getFullYear()?l.toLocaleDateString("en-US",{month:"long",day:"numeric"}):l.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},k=l=>{const m={travel:"success",tech:"primary",life:"warning",review:"info",default:"secondary"};return m[l]||m.default};return e.jsxs(u,{className:"h-100 shadow-sm border-0 mb-4",children:[a&&e.jsx("div",{style:{height:"200px",overflow:"hidden"},children:e.jsx(u.Img,{variant:"top",src:a,alt:t,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease"},onMouseEnter:l=>l.target.style.transform="scale(1.05)",onMouseLeave:l=>l.target.style.transform="scale(1)"})}),e.jsxs(u.Body,{className:"d-flex flex-column",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx(g,{bg:k(x),className:"text-uppercase",style:{fontSize:"0.7rem",letterSpacing:"0.5px"},children:S(p)}),c&&e.jsxs("small",{className:"text-muted",children:[c," min read"]})]}),e.jsx(C,{to:`/blog/${r}`,className:"text-decoration-none text-reset",children:e.jsx(u.Title,{className:"mb-1",style:{fontSize:"1.2rem",fontWeight:"600",lineHeight:"1.3",transition:"color 0.2s ease"},onMouseEnter:l=>l.target.style.color="#0d6efd",onMouseLeave:l=>l.target.style.color="inherit",children:t})}),s&&e.jsx("div",{className:"text-muted mb-2",style:{fontSize:"0.9rem",fontWeight:"500"},children:s}),e.jsx(u.Text,{className:"text-muted flex-grow-1",style:{fontSize:"0.85rem",lineHeight:"1.5"},children:i}),d.length>0&&e.jsx("div",{className:"mt-auto pt-2",children:e.jsxs("div",{className:"d-flex flex-wrap gap-1",children:[d.slice(0,3).map((l,m)=>e.jsx(g,{variant:"outline-secondary",className:"border-0",style:{fontSize:"0.7rem",backgroundColor:"rgba(108, 117, 125, 0.1)",color:"#6c757d"},children:l},m)),d.length>3&&e.jsxs(g,{variant:"outline-secondary",className:"border-0",style:{fontSize:"0.7rem",backgroundColor:"rgba(108, 117, 125, 0.1)",color:"#6c757d"},children:["+",d.length-3]})]})})]})]})}const w="posts",Z=async(o=10,r=!0)=>{try{let t=A(v,w);r&&(t=j(t,T("isPublished","==",!0))),t=j(t,D("publishedAt","desc"),B(o));const s=await I(t),i=[];return s.forEach(a=>{i.push({id:a.id,...a.data(),publishedAt:a.data().publishedAt?.toDate(),updatedAt:a.data().updatedAt?.toDate()})}),i}catch(t){throw console.error("Error getting posts:",t),t}},O=async o=>{try{const r=_(v,w,o),t=await H(r);if(t.exists()){const s=t.data();return await W(r,{views:(s.views||0)+1}),{id:t.id,...s,publishedAt:s.publishedAt?.toDate(),updatedAt:s.updatedAt?.toDate(),views:(s.views||0)+1}}else throw new Error("Post not found")}catch(r){throw console.error("Error getting post:",r),r}};function F(){const{id:o}=M(),r=P(),[t,s]=n.useState(null),[i,a]=n.useState(!0),[x,d]=n.useState("");if(n.useEffect(()=>{o&&(async()=>{try{a(!0);const h=await O(o);s(h)}catch(h){console.error("Error fetching post:",h),d("Post not found or failed to load.")}finally{a(!1)}})()},[o]),i)return e.jsx(b,{className:"py-5",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2 text-muted",children:"Loading post..."})]})});if(x||!t)return e.jsx(b,{className:"py-5",children:e.jsxs(E,{variant:"danger",className:"text-center",children:[e.jsx("h4",{children:"Post Not Found"}),e.jsx("p",{children:x||"The post you are looking for does not exist."}),e.jsx(f,{variant:"primary",onClick:()=>r("/"),children:"Back to Home"})]})});const p=c=>c?c.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return e.jsx(b,{fluid:!0,style:{maxWidth:"1200px",padding:"1rem"},children:e.jsxs(L,{className:"g-4",children:[e.jsx(y,{lg:4,xl:3,children:e.jsx(q,{})}),e.jsxs(y,{lg:8,xl:9,children:[e.jsx("div",{className:"mb-3",children:e.jsxs(f,{variant:"outline-secondary",size:"sm",onClick:()=>r("/"),className:"d-flex align-items-center gap-2",children:[e.jsx("i",{className:"bi bi-arrow-left"}),"Back to Home"]})}),e.jsxs("article",{children:[e.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-3 mb-3",children:[t.category&&e.jsx(g,{bg:"primary",className:"text-uppercase",children:t.category}),e.jsx("small",{className:"text-muted",children:p(t.publishedAt)}),t.readTime&&e.jsxs("small",{className:"text-muted",children:[t.readTime," min read"]}),t.views&&e.jsxs("small",{className:"text-muted",children:[t.views," views"]})]}),e.jsx("h1",{className:"mb-2",style:{fontWeight:"700",lineHeight:"1.2"},children:t.title}),t.subtitle&&e.jsx("h2",{className:"text-muted mb-4",style:{fontSize:"1.2rem",fontWeight:"400",lineHeight:"1.4"},children:t.subtitle}),t.coverImage&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:t.coverImage,alt:t.title,className:"img-fluid rounded",style:{width:"100%",height:"auto"}})}),e.jsx("div",{className:"mb-4",style:{fontSize:"1.1rem",lineHeight:"1.7",color:"#333"},children:e.jsx("div",{style:{whiteSpace:"pre-wrap"},children:t.content})}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"text-muted mb-2",children:"Tags:"}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:t.tags.map((c,h)=>e.jsx(g,{variant:"outline-secondary",className:"border-0",style:{backgroundColor:"rgba(108, 117, 125, 0.1)",color:"#6c757d"},children:c},h))})]}),e.jsxs("div",{className:"d-flex gap-3 py-3 border-top",children:[e.jsxs(f,{variant:"outline-primary",size:"sm",children:[e.jsx("i",{className:"bi bi-heart me-1"}),"Like ",t.likes>0&&`(${t.likes})`]}),e.jsxs(f,{variant:"outline-secondary",size:"sm",children:[e.jsx("i",{className:"bi bi-share me-1"}),"Share"]})]})]})]})]})})}const J=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{q as A,X as B,N as T,G as a,J as b,Z as g};
