import{j as e,a as y,R as u,c as x,S as j,A as S}from"./vendor-bootstrap-Dg_DQlAt.js";import{r as s}from"./vendor-router-DblBPfa5.js";import{L as v,i as g,s as C,r as N}from"./auth-CbeN-iZ-.js";import{A as k,g as w,B as E}from"./blog-BJH2fAw2.js";import"./vendor-react-Bzgz95E1.js";import"./vendor-firebase-nbM8PX7S.js";function V(){const l=s.useContext(v),[i,d]=s.useState(!1),[t,a]=s.useState(!1),[m,r]=s.useState(""),[c,n]=s.useState(!1),[f,h]=s.useState(!1);if(s.useEffect(()=>{n(g())},[l.user]),!l.isLoggedIn||c)return null;const p=async()=>{d(!0),r(""),a(!1);try{await C(),a(!0),setTimeout(()=>a(!1),6e4)}catch(o){r(o.message||"Failed to send verification email.")}finally{d(!1)}},b=async()=>{h(!0),r("");try{await N();const o=g();n(o),o||r("Email not verified yet. Please check your inbox and click the verification link.")}catch(o){r(o.message||"Failed to check verification status.")}finally{h(!1)}};return e.jsx("div",{style:{backgroundColor:"#fff3cd",border:"1.5px solid #ffc107",borderRadius:4,padding:12,marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12},children:[e.jsx("span",{style:{fontSize:24},children:"âš ï¸"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{margin:"0 0 8px 0",color:"#666",fontSize:18},children:"Email Not Verified"}),e.jsx("p",{style:{margin:"0 0 12px 0",color:"#666"},children:"Please verify your email address to access all features. Check your inbox for the verification link."}),t&&e.jsx("div",{style:{color:"green",marginBottom:12,padding:8,backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:4,fontSize:14},children:"âœ“ Verification email sent! Check your inbox (and spam folder)."}),m&&e.jsx("div",{style:{color:"crimson",marginBottom:12,padding:8,backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:4,fontSize:14},children:m}),e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("p",{style:{margin:"0 0 0 0",fontSize:13,color:"#666",fontStyle:"italic"},children:"ðŸ’¡ Tip: Check your spam folder if you don't see the email."}),e.jsx("button",{onClick:p,disabled:i||t,style:{padding:"8px 16px",fontSize:14,backgroundColor:t?"#28a745":i?"#ccc":"#007bff",color:"white",border:"none",borderRadius:4,cursor:i||t?"not-allowed":"pointer"},children:i?"Sending...":t?"âœ“ Sent":"Resend Verification Email"}),e.jsx("button",{onClick:b,disabled:f,style:{padding:"8px 16px",fontSize:14,backgroundColor:f?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:4,cursor:f?"not-allowed":"pointer"},children:f?"Checking...":"I've Verified"})]})]})]})})}function B(){const[l,i]=s.useState([]),[d,t]=s.useState(!0),[a,m]=s.useState("");s.useEffect(()=>{(async()=>{try{t(!0);const n=await w(6);i(n)}catch(n){console.error("Error fetching posts:",n),m("Failed to load posts. Please try again later.")}finally{t(!1)}})()},[]);const r=()=>d?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(j,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2 text-muted",children:"Loading posts..."})]}):a?e.jsx(S,{variant:"danger",className:"text-center",children:a}):l.length===0?e.jsxs("div",{className:"py-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"mb-3",style:{fontWeight:"600"},children:"Adventures Await"}),e.jsxs("p",{className:"text-muted mb-4",style:{fontSize:"1.1rem",lineHeight:"1.6"},children:["This is where I document my journeys, both physical and digital.",e.jsx("br",{}),"Stories from the road, lessons from code, and everything in between."]})]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"border rounded p-4 h-100 d-flex flex-column justify-content-center text-center",style:{backgroundColor:"rgba(13, 110, 253, 0.05)",borderColor:"rgba(13, 110, 253, 0.2)",minHeight:"200px"},children:[e.jsx("i",{className:"bi bi-map text-primary mb-3",style:{fontSize:"2.5rem"}}),e.jsx("h5",{className:"text-primary mb-2",children:"Travel Stories"}),e.jsx("p",{className:"text-muted small mb-0",children:"Tales from 1,700 miles of walking and months in South America"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"border rounded p-4 h-100 d-flex flex-column justify-content-center text-center",style:{backgroundColor:"rgba(255, 107, 53, 0.05)",borderColor:"rgba(255, 107, 53, 0.2)",minHeight:"200px"},children:[e.jsx("i",{className:"bi bi-code-slash mb-3",style:{fontSize:"2.5rem",color:"#ff6b35"}}),e.jsx("h5",{className:"mb-2",style:{color:"#ff6b35"},children:"Tech Insights"}),e.jsx("p",{className:"text-muted small mb-0",children:"Lessons from building at a YC startup and beyond"})]})})]}),e.jsx("div",{className:"text-center mt-5",children:e.jsxs("small",{className:"text-muted",children:["ðŸš€ Currently setting up the storytelling platform...",e.jsx("br",{}),"First posts coming soon!"]})})]}):e.jsx(u,{className:"g-4",children:l.map(c=>e.jsx(x,{md:6,lg:6,children:e.jsx(E,{post:c})},c.id))});return e.jsxs(y,{fluid:!0,style:{maxWidth:"1200px",padding:"1rem"},children:[e.jsx(V,{}),e.jsxs(u,{className:"g-4",children:[e.jsx(x,{lg:4,xl:3,children:e.jsx(k,{})}),e.jsx(x,{lg:8,xl:9,children:r()})]})]})}export{B as default};
